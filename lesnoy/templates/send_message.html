{% extends "index.html" %}

{% block messages %}

{% endblock %}

{% block content %}

<section class="pt-3 pb-3">
    <div class="container d-flex flex-column align-items-center">
        <h1 class="mb-3">Форма отправки сообщения</h1>
        <form class="col-12 col-md-10 col-lg-8 col-xl-6 d-flex flex-column" method="post">
            {% csrf_token %}

            <div class="form-floating mb-4">
                {{ form.title }}
                <label for="form_title">Тема сообщения</label>
                <div id="title_errors"></div>
            </div>
            <div class="form-floating mb-2">
                {{ form.text }}
                <label for="form_text">Текст сообщения</label>
                <div id="text_errors"></div>
            </div>

            {% if messages %}

            {% for message in messages %}
            {% if message.level == DEFAULT_MESSAGE_LEVELS.SUCCESS %}
            <div class="alert alert-success text-center">{{ message }}</div>
            {% else %}
            <div class="alert alert-danger text-center">{{ message }}</div>
            {% endif %}
            {% endfor %}

            {% endif %}

            <button onclick="messagesValidator(event);" class="col-12 col-md-10 col-lg-8 col-xl-5 btn btn-primary mt-3 m-auto">Отправить</button>
        </form>
    </div>
</section>
{% load static %}
<script type="text/javascript" src="{% static 'js/validation.js' %}"></script>
{% endblock %}